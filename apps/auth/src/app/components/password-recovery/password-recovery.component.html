<div class="recovery">
  <div class="recovery__container">
    <div class="presentation-login">
      <img src="/assets/images/logo.svg" alt="logo esfera" class="logo" />
    </div>
    <div>
      <div *ngIf="!sentEmail; else SentEmailTemplate">
        <p class="recovery__title my-5">esqueceu sua senha?</p>
        <p>Enviaremos para seu e-mail instruções de recuperação.</p>
        <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>digite seu email</mat-label>
              <input matInput type="text" formControlName="email"
                [ngClass]="{ 'is-invalid': form.get('email').errors }" />
              <mat-error *ngIf="form.controls['email'].hasError('required')">campo email é obrigatório</mat-error>
              <mat-error *ngIf="form.controls['email'].hasError('email')"> email inválido</mat-error>
            </mat-form-field>
          </div>

          <div class="form-group">
            <button mat-button class="recovery__button"
              [ngClass]="{'recovery__button--disabled': form.invalid || isLoading}"
              [disabled]="form.invalid || isLoading">
              <ec-loading [active]="isLoading" [height]="'50px'">recuperar senha</ec-loading>
            </button>
          </div>
        </form>
      </div>
      <ng-template #SentEmailTemplate>
        <div class=" d-flex align-items-center">
          <div class="icon-box float-left d-flex">
            <i class="material-icons">
              check
            </i>
          </div>
          <div class="ml-4">
            <p class="recovery-title text-left">Por favor, verifique seu email.</p>
            <p class="text-left">Para recuperar sua senha, é só seguir as instruções que foram enviadas no email</p>
          </div>
        </div>
      </ng-template>
      <a class="go-back" routerLink="/auth/">
        <i class="material-icons"> keyboard_arrow_left </i> voltar para o login
      </a>
    </div>
  </div>
  <img src="/assets/images/logo-bg.svg" alt="logo esfera bg" class="logo-bg" />
</div>
